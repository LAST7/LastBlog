---
title: 建站过程
tags:
  - 域名
  - hexo
  - netlify
  - obsidian
categories: 记录
excerpt: 对于本站建立过程的简要记录
date: 2023-08-05 01:27:24
---

{% notel red fa-solid fa-circle-exclamation **注意** %}
本文并非教程，请谨慎参考！
{% endnotel %}

## 前言

- 先前在有了“自建个人博客”的念头后便在 b 站搜索教程了解，然而那时候找到的大部分教程均为“购买云端服务器” + “购买国内域名（需要备案）”。这两个步骤在我看来都太过麻烦，遂选择放弃。
- 此后，在机缘巧合之下于 b 站发现了 up 主[爱扑bug的熊的一部教程](https://www.bilibili.com/video/BV1qD4y1z783)，这部教程提供的个人博客建站方案是：Hexo + Github + Netlify + Cloudflare。无需服务器，且流程看上去十分简便，令我十分心动，于是心动不如行动，立即开工。
---
---
## Hexo

- Hexo 是一个快速、简洁且高效的博客框架，使用 Markdown 语言。

### 安装 Hexo

```bash
npm install -g hexo-cli
```

- 其中 `-g` 参数表示全局安装

{% notel red fa-triangle-exclamation **注意：** %}
在 Archlinux 上使用 npm 时，为了不污染系统环境，需要提前设置 npm 的 prefix 来更改安装位置。详见：[Archwiki](https://wiki.archlinux.org/title/Node.js#Allow_user-wide_installations)
{% endnotel %}

### 初始化博客

```bash
hexo init <blog-name> # <blog-name> 为博客目录名，若有空格则需要双引号
```

```bash
cd <blog-name> && npm install # 安装博客所需的其他依赖
```
### 主题

#### 安装

- 本站使用 [Redefine](https://redefine-docs.ohevan.com/en/getting-started) 主题，作者是 [EvanNotFound](https://github.com/EvanNotFound)，赞美他。
- 该主题的[文档](https://redefine-docs.ohevan.com/en/getting-started)十分详尽，安装及使用教程均有教程。
- 我的[配置文件](https://github.com/LAST7/LastBlog/blob/main/_config.redefine.yml)可在 Github 找到。

#### 修改主题背景

{% btn center large::待续::::fa-solid fa-fire %}

### 上传至 Github

```bash
git init
git add .
git commit -m "my first blog commit"
git remote add origin "https://github.com/..."
git branch -M main
git push -u origin main
```

## Netlify

- [Netlify](https://www.netlify.com/) 是一个提供静态资源网络托管的综合平台，提供 CI 服务，能够将托管 GitHub，GitLab 等网站上的 Jekyll，Hexo，Hugo 等代码自动编译并生成静态网站。

### 新建 Netlify 站点

***（略）***


{% notel gray fa-circle-info **提示** %}
为了使 Netlify 端的网站每次部署都自动清除缓存并重新生成网站，可在 `package.json` 中添加以下配置：

```json
{
    // ... 
    "scripts": {
        // ...  
        "server": "hexo server",
        "netlify": "npm run clean && npm run build" // 添加此行
    },
    // ...
}
```

**然后在导入 Github 仓库时，将 Build Command 改为 `npm run netlify`。**
{% endnotel %}

## 域名

{% btn center large::待续::::fa-solid fa-fire %}

## CDN

{% btn center large::待续::::fa-solid fa-fire %}
## Obsidian

{% btn center large::待续::::fa-solid fa-fire %}